
<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no"><title>Bitly | Interstitial</title><style>/*! normalize.css v3.0.2 | MIT License | git.io/normalize */html{font-family:sans-serif;-webkit-text-size-adjust:100%}body{margin:0}a:active,a:hover{outline:0}</style><style>body,html{width:100%}@media (orientation:landscape){body,html{height:100%}.container{position:relative}}@media (orientation:portrait){.container{position:fixed}}.container{height:100%;width:100%;overflow:auto;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;background-color:#F8F8F8;font:14px "Helvetica Neue",Helvetica,Roboto,Arial,sans-serif}.main{max-width:300px;margin:0 auto;text-align:center;-webkit-box-flex:1;-webkit-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-user-select:none;user-select:none}.container.install .launch,.container.launch .install{display:none}.icon{margin:0 auto;width:100px;height:100px;border:0;border-radius:3px;background-position:50% 50%;background-repeat:no-repeat;background-size:100% 100%}.btn{display:inline-block;font-size:24px;color:#000;text-decoration:none;text-align:center;width:100%;white-space:nowrap;margin:30px 0;margin:4vh 0}.btn.bordered{text-decoration:none;border:1px solid #000;border-radius:3px;padding:6px 0;padding:1vh 0}.main .install .btn{height:80px;width:270px;text-indent:-9999px;background:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22270%22%20height%3D%2280%22%20viewBox%3D%220%200%20135%2040%22%3E%3Cpath%20d%3D%22M130.197%2040H4.73C2.12%2040%200%2037.872%200%2035.267V4.727C0%202.12%202.122%200%204.73%200h125.467C132.803%200%20135%202.12%20135%204.726v30.54c0%202.606-2.197%204.734-4.803%204.734z%22%2F%3E%3Cpath%20d%3D%22M134.032%2035.268c0%202.116-1.714%203.83-3.834%203.83H4.728c-2.118%200-3.838-1.714-3.838-3.83V4.725C.89%202.61%202.61.89%204.73.89h125.467c2.12%200%203.834%201.72%203.834%203.835l.01%2030.543z%22%2F%3E%3Cpath%20d%3D%22M30.128%2019.784c-.03-3.223%202.64-4.79%202.76-4.864-1.51-2.203-3.852-2.504-4.675-2.528-1.967-.207-3.875%201.177-4.877%201.177-1.022%200-2.565-1.16-4.228-1.13-2.14.03-4.142%201.27-5.24%203.19-2.266%203.92-.576%209.69%201.595%2012.86%201.086%201.55%202.355%203.28%204.016%203.22%201.62-.07%202.23-1.04%204.19-1.04%201.94%200%202.51%201.03%204.2.99%201.74-.03%202.84-1.56%203.89-3.13%201.25-1.78%201.76-3.53%201.78-3.62-.04-.01-3.39-1.29-3.42-5.15zm-3.2-9.478c.874-1.093%201.472-2.58%201.306-4.09-1.265.057-2.847.876-3.758%201.945-.806.95-1.526%202.49-1.34%203.94%201.42.11%202.88-.71%203.792-1.79zm26.717%2021.198h-2.27l-1.245-3.91h-4.324l-1.185%203.91h-2.21l4.29-13.308h2.65l4.31%2013.308zm-3.89-5.55L48.63%2022.48c-.12-.355-.342-1.19-.67-2.507h-.04c-.132.566-.343%201.402-.633%202.507l-1.105%203.475h3.573zm14.907.634c0%201.632-.44%202.922-1.323%203.87-.79.842-1.78%201.263-2.95%201.263-1.27%200-2.17-.45-2.73-1.36h-.04v5.06H55.5V25.07c0-1.026-.027-2.08-.08-3.16h1.876l.12%201.522h.04c.71-1.15%201.79-1.72%203.237-1.72%201.132%200%202.077.447%202.833%201.34.758.898%201.136%202.076%201.136%203.537zm-2.172.078c0-.934-.21-1.704-.632-2.31-.46-.632-1.08-.948-1.856-.948-.526%200-1.004.176-1.43.523-.43.35-.71.81-.84%201.38-.066.27-.1.48-.1.65v1.6c0%20.7.215%201.29.643%201.77s.984.72%201.668.72c.803%200%201.428-.31%201.875-.92.448-.62.672-1.43.672-2.45zm13.21-.078c0%201.632-.442%202.922-1.325%203.87-.79.842-1.77%201.263-2.94%201.263-1.265%200-2.173-.45-2.725-1.36h-.04v5.06h-2.132V25.07c0-1.026-.027-2.08-.08-3.16h1.876l.12%201.522h.04c.71-1.15%201.788-1.72%203.237-1.72%201.14%200%202.08.447%202.84%201.34.76.898%201.14%202.076%201.14%203.537zm-2.173.078c0-.934-.21-1.704-.633-2.31-.46-.632-1.078-.948-1.855-.948-.53%200-1.01.176-1.44.523-.43.35-.71.81-.84%201.38-.07.27-.1.48-.1.65v1.6c0%20.7.21%201.29.64%201.77.43.48.98.72%201.67.72.8%200%201.43-.31%201.87-.92.45-.62.67-1.43.67-2.45zm14.513%201.106c0%201.132-.394%202.053-1.183%202.764-.867.777-2.074%201.165-3.625%201.165-1.432%200-2.58-.27-3.45-.82l.495-1.77c.936.57%201.963.85%203.082.85.8%200%201.42-.18%201.87-.54.44-.36.67-.84.67-1.45%200-.54-.19-.99-.56-1.36-.37-.37-.98-.71-1.84-1.03-2.33-.87-3.5-2.14-3.5-3.81%200-1.09.41-1.99%201.22-2.69.81-.69%201.9-1.04%203.26-1.04%201.21%200%202.21.21%203.02.63l-.54%201.74c-.75-.41-1.6-.61-2.55-.61-.75%200-1.34.18-1.76.55-.36.33-.54.73-.54%201.21%200%20.53.2.96.61%201.31.35.32%201%20.66%201.94%201.03%201.14.46%201.98%201%202.53%201.62.54.62.81%201.39.81%202.31zm7.048-4.264h-2.35v4.66c0%201.184.414%201.776%201.244%201.776.38%200%20.697-.033.947-.1l.05%201.62c-.42.157-.98.236-1.66.236-.85%200-1.5-.257-1.98-.77-.48-.514-.71-1.376-.71-2.587v-4.837h-1.4v-1.6h1.4V20.15l2.09-.633v2.39h2.35v1.6zm10.602%203.12c0%201.474-.42%202.685-1.263%203.632-.883.975-2.055%201.46-3.516%201.46-1.4%200-2.52-.466-3.36-1.4s-1.25-2.113-1.25-3.534c0-1.487.43-2.705%201.3-3.652.86-.948%202.03-1.422%203.49-1.422%201.41%200%202.54.467%203.4%201.402.82.907%201.23%202.078%201.23%203.513zm-2.21.07c0-.887-.19-1.646-.573-2.28-.447-.766-1.086-1.15-1.914-1.15-.857%200-1.508.385-1.955%201.15-.383.634-.572%201.405-.572%202.317%200%20.885.19%201.644.572%202.276.46.77%201.105%201.15%201.936%201.15.814%200%201.453-.39%201.914-1.17.393-.64.59-1.41.59-2.29zm9.14-2.915c-.21-.04-.435-.06-.67-.06-.75%200-1.33.284-1.74.85-.354.5-.532%201.133-.532%201.896v5.03h-2.13l.02-6.58c0-1.11-.028-2.12-.08-3.02h1.856l.078%201.83h.06c.224-.63.58-1.14%201.065-1.52.475-.35.988-.52%201.54-.52.198%200%20.376.01.534.04v2.03zm9.536%202.47c0%20.38-.025.703-.078.966h-6.396c.025.94.334%201.67.928%202.17.54.44%201.236.67%202.092.67.947%200%201.81-.15%202.588-.46l.334%201.48c-.908.39-1.98.59-3.217.59-1.488%200-2.656-.44-3.506-1.32-.84-.88-1.27-2.05-1.27-3.53%200-1.45.4-2.65%201.19-3.62.83-1.03%201.95-1.54%203.36-1.54%201.39%200%202.43.51%203.14%201.54.57.81.85%201.82.85%203.02zm-2.033-.554c.014-.64-.125-1.18-.414-1.64-.37-.6-.94-.89-1.7-.89-.7%200-1.27.29-1.7.87-.36.46-.57%201.01-.63%201.65h4.44zM49.05%2010.01c0%201.176-.353%202.062-1.058%202.657-.653.55-1.58.824-2.783.824-.6%200-1.11-.02-1.54-.07V6.99c.55-.09%201.15-.138%201.8-.138%201.14%200%202.01.25%202.59.747.65.56.98%201.36.98%202.41zm-1.105.028c0-.763-.202-1.348-.606-1.756-.41-.407-1-.61-1.78-.61-.33%200-.61.02-.85.067v4.88c.13.02.36.03.71.03.8%200%201.42-.23%201.85-.67s.65-1.1.65-1.95zm6.965%201c0%20.724-.208%201.32-.622%201.784-.434.48-1.01.718-1.727.718-.69%200-1.24-.23-1.65-.69-.41-.458-.61-1.037-.61-1.735%200-.73.21-1.33.64-1.794s1-.69%201.71-.69c.69%200%201.25.23%201.67.69.4.45.6%201.03.6%201.73zm-1.088.033c0-.43-.094-.8-.28-1.11-.22-.37-.534-.56-.94-.56-.422%200-.742.19-.962.57-.188.31-.28.69-.28%201.14%200%20.44.093.81.28%201.12.227.38.543.57.95.57.4%200%20.715-.19.94-.57.195-.31.292-.69.292-1.13zm8.943-2.35l-1.475%204.72h-.96l-.61-2.04c-.156-.51-.282-1.02-.38-1.52h-.02c-.09.52-.216%201.03-.378%201.53l-.65%202.05h-.97l-1.387-4.72h1.077l.533%202.24c.13.53.235%201.04.32%201.52h.02c.077-.39.206-.89.388-1.5l.67-2.25h.853l.64%202.21c.156.54.282%201.05.38%201.55h.028c.07-.48.178-1%20.32-1.55l.572-2.2h1.03zm5.433%204.72H67.15v-2.7c0-.83-.316-1.25-.95-1.25-.31%200-.562.12-.757.35-.193.23-.29.5-.29.81v2.8h-1.05v-3.37c0-.41-.012-.86-.037-1.35h.92l.05.74h.03c.12-.23.303-.42.542-.57.284-.17.602-.26.95-.26.44%200%20.806.15%201.097.43.362.35.543.87.543%201.56v2.83zm2.89%200H70.04V6.56h1.048v6.877zm6.17-2.39c0%20.73-.207%201.32-.62%201.79-.435.48-1.01.72-1.728.72-.693%200-1.244-.23-1.654-.69-.41-.45-.615-1.03-.615-1.73%200-.73.22-1.33.64-1.79s1-.7%201.71-.7c.7%200%201.25.23%201.67.69.4.45.6%201.02.6%201.73zm-1.088.04c0-.43-.094-.8-.28-1.11-.22-.37-.534-.56-.94-.56-.422%200-.742.19-.96.57-.19.31-.282.69-.282%201.14%200%20.44.094.81.28%201.12.228.38.544.57.952.57.4%200%20.713-.19.94-.57.194-.32.29-.69.29-1.13zm6.16%202.37h-.94l-.08-.54h-.028c-.322.43-.78.65-1.377.65-.445%200-.805-.14-1.076-.43-.25-.26-.37-.58-.37-.96%200-.57.24-1.01.72-1.32.48-.3%201.16-.45%202.03-.44v-.09c0-.62-.33-.93-.98-.93-.47%200-.88.12-1.23.35l-.22-.69c.44-.27.98-.4%201.61-.4%201.23%200%201.85.65%201.85%201.95v1.74c0%20.47.02.85.07%201.12zm-1.088-1.62v-.73c-1.156-.02-1.734.3-1.734.95%200%20.25.066.43.2.55.136.12.308.19.513.19.23%200%20.45-.07.65-.22.2-.14.32-.33.37-.56.01-.05.02-.11.02-.18zm7.043%201.62h-.93l-.05-.75h-.028c-.297.58-.803.86-1.514.86-.568%200-1.04-.22-1.416-.67s-.562-1.02-.562-1.73c0-.76.203-1.38.61-1.85.396-.44.88-.66%201.456-.66.64%200%201.08.22%201.33.64h.02V6.56h1.05v5.608c0%20.46.01.882.04%201.27zm-1.085-2v-.78c0-.14-.01-.25-.03-.33-.06-.25-.186-.46-.38-.63-.194-.17-.43-.25-.7-.25-.39%200-.697.15-.922.46-.223.31-.336.71-.336%201.19%200%20.47.107.85.322%201.14.227.31.533.47.916.47.344%200%20.62-.13.828-.39.202-.24.3-.52.3-.86zm10.048-.41c0%20.73-.207%201.32-.62%201.79-.435.48-1.01.72-1.728.72-.69%200-1.242-.23-1.654-.69-.41-.45-.615-1.03-.615-1.73%200-.73.22-1.33.64-1.79s1-.69%201.72-.69c.69%200%201.25.23%201.67.69.4.45.6%201.02.6%201.73zm-1.086.04c0-.43-.094-.8-.28-1.11-.222-.37-.534-.56-.942-.56-.42%200-.74.19-.96.56-.19.31-.282.69-.282%201.14%200%20.44.094.81.28%201.12.228.38.544.57.952.57.4%200%20.715-.19.94-.57.194-.31.292-.69.292-1.13zm6.72%202.37h-1.046v-2.7c0-.83-.316-1.25-.95-1.25-.312%200-.563.12-.757.35s-.3.5-.3.81v2.8h-1.05V10.1c0-.417-.01-.866-.04-1.35h.92l.05.735h.03c.12-.23.3-.416.54-.57.28-.173.6-.262.95-.262.44%200%20.8.145%201.1.43.36.35.54.87.54%201.57v2.82zm7.054-3.93h-1.154v2.29c0%20.59.205.88.61.88.19%200%20.345-.01.468-.05l.027.8c-.207.07-.48.11-.814.11-.414%200-.736-.13-.97-.38-.233-.25-.35-.68-.35-1.27v-2.4h-.688v-.79h.69v-.86l1.026-.31v1.17h1.16v.79zm5.548%203.93h-1.05v-2.68c0-.84-.315-1.27-.948-1.27-.486%200-.818.25-1%20.74-.03.1-.05.23-.05.38v2.84h-1.046v-6.9h1.047V9.4h.02c.33-.517.803-.775%201.416-.775.434%200%20.793.142%201.078.427.36.35.54.88.54%201.58v2.8zm5.723-2.58c0%20.19-.014.35-.04.48h-3.142c.014.47.164.82.455%201.07.266.22.61.33%201.03.33.464%200%20.888-.07%201.27-.22l.164.73c-.447.2-.973.29-1.582.29-.73%200-1.305-.21-1.72-.64-.42-.43-.626-1.01-.626-1.73%200-.71.193-1.3.582-1.77.406-.5.955-.75%201.648-.75.678%200%201.193.26%201.54.76.282.4.42.9.42%201.49zm-1-.27c.008-.31-.06-.58-.203-.8-.182-.29-.46-.43-.834-.43-.342%200-.62.15-.834.43-.174.23-.277.5-.31.82h2.18z%22%20fill%3D%22%23FFF%22%2F%3E%3C%2Fsvg%3E) 50% 50% no-repeat;background-size:100% 100%}.or_after:after{content:'OR';color:#979797;font-size:18px;display:block;width:100%;text-align:center}.footer{min-height:35px;color:#C3C3C3;text-align:center}.footer.hide{opacity:0}.footer a{text-indent:-9999px;display:inline-block;vertical-align:middle;height:35px;width:70px;background:url('data:image/svg+xml,%3Csvg%20width%3D%2280%25%22%20height%3D%2234%22%20viewBox%3D%220%200%20111%2055%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Ctitle%3ENew%20Logo!%20(white)%3C%2Ftitle%3E%3Cg%20fill%3D%22%23C3C3C3%22%20fill-rule%3D%22evenodd%22%3E%3Cpath%20d%3D%22M57.902%2036.964c-5.503%200-8.54-3.253-8.54-7.307%200-1.65.078-13.906.078-13.906-1.8%200-2.686-.94-2.686-2.12%200-1.18.938-2.27%202.478-2.27l.003-5.79c0-1.93%201.504-3.53%203.45-3.53%201.944%200%203.49%201.61%203.49%203.54%200%201.46-.13%203.48-.123%205.71.16%200%201.55%200%203.59-.02%201.892-.02%202.662%201.03%202.662%202.35s-1.018%202.24-2.346%202.25c-1.23.01-3.95-.01-3.95-.01-.123%203.91-.24%208.62-.24%2012.39%200%201.36.94%202.92%203.218%202.92%205.218%200%206.723-5.25%206.723-15.15%200-1.32%201.04-2.36%202.37-2.36s2.37%201.03%202.37%202.35c0%2012.97-3.3%2020.98-12.55%2020.98zm38.912-2.403S94.886%2037.09%2090%2036.97c-6.48-.162-9.483-5.293-9.8-10.57-.242-4-.133-6.83-.133-9.42%200-1.934%201.29-3.5%203.236-3.5%201.946%200%203.09%201.604%203.09%203.537%200%202.59-.16%204.87-.19%207.697-.033%203.41%201.136%206.417%203.982%206.41%202.733-.01%205.734-1.156%205.808-7%20.035-2.83-.062-4.515-.062-7.107%200-1.935%201.35-3.538%203.3-3.538%201.95%200%203.3%201.6%203.3%203.53%200%202.59-.21%205.16-.21%209.17%200%200-.12%208.09.17%209.88.89-.3%202.18-1.17%203.55-3.28.83-1.27%202.4-1.55%203.37-.98%201.34.77%201.29%202.29.79%203.4-1.29%202.86-2.96%204.61-7.2%206.06.02%204.85-.32%2012.01-9.32%2013.31-7.7%201.11-11.18-3.35-11.19-7.14-.02-5.99%205.98-7.73%2014.64-9.91l-.27-2.97zm.844%207.75c-4.376.94-9.86%202.32-9.795%205.01.06%202.52%202.67%202.98%204.844%202.53%204.518-.93%205.043-3.64%204.95-7.53z%22%2F%3E%3Cpath%20d%3D%22M35.102%2017.204l-.024-1.724c0-1.933%201.25-3.57%203.195-3.57%201.945%200%203.238%201.748%203.168%203.593-.23%206.214-.32%2010.304-.32%2012.468%200%201.26.69%203.18%202.71%203.18%204.7%200%205.67-4.34%205.67-14.81%200-1.32%201.32-2.35%202.65-2.35%201.33%200%202.37%201.04%202.37%202.36C54.52%2032.2%2051.76%2037%2042.77%2037c-3.56%200-7.31-2.187-7.49-6.28-4.05%204.28-10.31%206.32-18.29%206.32-8.05%200-11.412-5.476-11.412-9.74.224-15.48-.18-20.424-.2-20.84-.02-.54-.04-1.384-.566-1.44-.32-.035-.527.06-.895.52-.552.73-1.667%201.02-2.344.63C.74%205.68.586%204.64%201%203.68%202.15%201.117%203.99-.016%206.475.02%2010.77.08%2012%202.876%2012%206.37c0%200-.095%205.033-.095%207.868%201.518-1.235%203.75-2.56%207.477-2.56%207.76%200%2012.687%209.585%207.625%2018.754%206.488-2.985%207.843-8.126%208.095-13.23zm45.08-.987c.006-.008%202.223-1.516%203.552-1.516%201.328%200%201.134.24%201.134%201.56C84.868%2030.4%2082.302%2037%2073.126%2037c-3.988%200-7.71-2.97-7.71-6.6%200-1.414.237-4.24.237-5.656%200-13.67-.213-16.56-.213-20.567%200-1.933%201.613-3.66%203.558-3.66%201.946%200%203.38%201.55%203.38%203.484%200%204.01-.433%209.84-.558%2024.93-.01%201.27.607%202.15%202.247%202.15%205.123%200%205.916-6.47%206.116-14.85zm-63.205%2014.82c-3.004.053-4.92-1.13-5.053-3.74-.05-.978-.034-1.816.014-2.445.29-3.812%202.698-6.28%205.345-6.808%203.294-.654%205.487.842%205.487%205.127%200%202.9-.808%207.78-5.793%207.87zm21.29-28.99c1.965%200%203.553%201.578%203.553%203.53%200%201.95-1.588%203.528-3.552%203.528s-3.55-1.577-3.55-3.53c0-1.95%201.586-3.527%203.55-3.527z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E') 50% 50% no-repeat;background-size:100% 100%}@media only screen and (max-height :413px){.or_after:after{display:none}.btn{margin:15px 0;margin:4vh 0}}@media only screen and (max-height :320px){.btn{margin:10px 0;margin:4vh 0}}iframe{display:none}.debug .nav{position:fixed;width:100%;height:70px;background-color:#F8F8F8}.debug .nav>div{float:left;height:100%;width:50%;padding:10px;box-sizing:border-box}.debug .btn{padding:8px 0;margin:0}.debug code{margin-top:70px;font:10px Menlo,monospace;white-space:pre}</style><script>!function(window,document,location,setTimeout,JSON){var querystring=function(t,e){var n={parse:function(t){var n={};if(t=void 0!==t?t:window.location.search,"string"==typeof t&&t.length>0){"?"===t[0]&&(t=t.substring(1)),t=t.split("&");for(var i=0,r=t.length;r>i;i++){var o,a,c=t[i],s=c.indexOf("=");s>=0?(o=c.substr(0,s),a=c.substr(s+1)):(o=c,a=""),a=e(a),void 0===n[o]?n[o]=a:n[o]instanceof Array?n[o].push(a):n[o]=[n[o],a]}}return n},stringify:function(e){var n=[];if(e&&e.constructor===Object)for(var i in e)if(e[i]instanceof Array)for(var r=0,o=e[i].length;o>r;r++)n.push([t(i),t(e[i][r])].join("="));else n.push([t(i),t(e[i])].join("="));return n.join("&")}};return n}(encodeURIComponent,decodeURIComponent);!function(t,e){t.Promise=t.Promise||function(t,n){function i(t,e){return(typeof e)[0]==t}function r(e,a){return a=function c(s,u,l,p,h,f){function g(t){return function(e){h&&(h=0,c(i,t,e))}}if(p=c.q,s!=i)return r(function(t,e){p.push({p:this,r:t,j:e,1:s,0:u})});if(l&&i(t,l)|i(n,l))try{h=l.then}catch(v){u=0,l=v}if(i(t,h))try{h.call(l,g(1),u=g(0))}catch(v){u(v)}else for(a=function(n,a){return i(t,n=u?n:a)?r(function(t,e){o(this,t,e,l,n)}):e},f=0;f<p.length;)h=p[f++],i(t,s=h[u])?o(h.p,h.r,h.j,l,s):(u?h.r:h.j)(l)},a.q=[],e.call(e={then:function(t,e){return a(t,e)},"catch":function(t){return a(0,t)}},function(t){a(i,1,t)},function(t){a(i,0,t)}),e}function o(r,o,a,c,s){e(function(){try{c=s(c),s=c&&i(n,c)|i(t,c)&&c.then,i(t,s)?c==r?a(TypeError()):s.call(c,o,a):o(c)}catch(e){a(e)}})}function a(t){return r(function(e){e(t)})}return r.resolve=a,r.reject=function(t){return r(function(e,n){n(t)})},r.all=function(t){return r(function(e,n,i,r){r=[],i=t.length||e(r),t.map(function(t,o){a(t).then(function(t){r[o]=t,--i||e(r)},n)})})},r}("f","o")}(window,window.setImmediate||function(t){setTimeout(t,0)}),function(){window.JST=window.JST||{},window.JST.interstitial_view=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<div class="container '+(null==(__t=className)?"":__t)+'"><div class="main"><div class="icon" title="'+(null==(__t=appTitle)?"":__t)+'" style="background-image:url('+(null==(__t=iconUrl)?"":__t)+')"></div><div class="install or_after"><a class="btn" href="'+(null==(__t=installLink)?"":__t)+'">INSTALL APP</a></div><div class="launch or_after"><a class="btn bordered" href="'+(null==(__t=launchLink)?"":__t)+'">OPEN APP</a></div><div class="fallback"><a class="btn" href="'+(null==(__t=fallbackLink)?"":__t)+'">Continue to mobile site.</a></div></div><div class="footer '+(null==(__t=footerClass)?"":__t)+'">POWERED BY <a href="#">BITLY</a></div></div>';return __p}}(),function(){window.JST=window.JST||{},window.JST.debug_view=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<div class="container '+(null==(__t=className)?"":__t)+'"><div class="nav"><div><a class="btn bordered return" href="#">BACK</a></div><div><a class="btn bordered email" href="'+(null==(__t=emailLink)?"":__t)+'">EMAIL</a></div></div><code id="log">'+(null==(__t=log)?"":__t)+"</code></div>";return __p}}();var App;!function(t){function e(t,e){if("string"!=typeof t||!t)return e;try{return JSON.parse(t)}catch(n){return e}}t.tryParse=e}(App||(App={}));var Logging;!function(t){var e=function(){function t(){this.store=[],this.startTime=Date.now()}return t.prototype.log=function(t,e,n){void 0===n&&(n=null);var i=t.loggingName;this.store.push({payload:n,ts:Date.now(),sourceName:i,messageType:e})},t.prototype.getAllLogs=function(t){void 0===t&&(t="\n");for(var e=this,n=e.store,i=e.startTime,r=[],o="{}",a=0;a<n.length;a++){var c=n[a],s=c.ts-i,u=c.payload?JSON.stringify(c.payload):o;r.push(s+"	: "+c.sourceName+"."+c.messageType+": "+u)}return r.join(t)},t}();t.Logger=e}(Logging||(Logging={}));var URLHelper;!function(t){function e(t){if(t.search){var e=t.search.replace(/\/$/,"");return querystring.parse(e)}return{}}function n(t){var e=document.createElement("a");return e.href=t,e}function i(t,e){return t+"?"+querystring.stringify(e)}function r(t){return"http"===t.protocol.substring(0,4)}t.parseQueryString=e,t.parseURL=n,t.composeURL=i,t.isHTTP=r}(URLHelper||(URLHelper={}));var App;!function(t){t.ACTION_AUTO_LAUNCH="al",t.ACTION_AUTO_INSTALL="ai",t.ACTION_AUTO_FALLBACK="af",t.ACTION_LAUNCH_SUCCESS="ls",t.ACTION_LAUNCH_FAILURE="lf",t.ACTION_DETECTION_ASYNC="da",t.ACTION_VIEW_LAUNCH="vl",t.ACTION_VIEW_INSTALL="vi",t.ACTION_VIEW_TERNARY="vt",t.ACTION_DEBUG_MODE="dm",t.ACTION_USER_LAUNCH="ul",t.ACTION_USER_INSTALL="ui",t.ACTION_USER_FALLBACK="uf",t.ACTION_RECOGNIZED_INITIAL_OUTCOME="io",t.ACTION_RECOGNIZED_INITIAL_VIEW="iv",t.RESUMABLE_ACTIONS=[t.ACTION_VIEW_LAUNCH,t.ACTION_VIEW_INSTALL,t.ACTION_VIEW_TERNARY,t.ACTION_LAUNCH_SUCCESS,t.ACTION_LAUNCH_FAILURE,t.ACTION_DETECTION_ASYNC],t.VIEW_ACTIONS=[t.ACTION_VIEW_LAUNCH,t.ACTION_VIEW_INSTALL,t.ACTION_VIEW_TERNARY],t.USER_ACTIONS=[t.ACTION_USER_LAUNCH,t.ACTION_USER_INSTALL,t.ACTION_USER_FALLBACK]}(App||(App={}));var App;!function(t){var e="_",n=function(){function n(t){var n=URLHelper.parseQueryString(t);this.historyActions=n.ha?n.ha.split(e):[],this.futureActions=n.fa?n.fa.split(e):[]}return n.prototype.appendAction=function(t){this.historyActions.push(t)},n.prototype.historify=function(t,n){var i=URLHelper.parseQueryString(t);if(delete i.io,delete i.iv,this.historyActions.length>0&&(i.ha=this.historyActions.join(e),n&&n.initialOutcome)){var r=this.determineInitialness(),o=r.initialness[r.initialness.length-1];o.isInitialOutcome&&(i.io=o.action),o.isInitialView&&(i.iv=o.action)}return this.futureActions.length>0&&(i.fa=this.futureActions.join(e)),URLHelper.composeURL(t.pathname,i)},n.prototype.historifyUrl=function(t,e){var n=URLHelper.parseURL(t);return this.historify(n,e)},n.prototype.rewritePushState=function(t){var e=t.win,n=t.loc,i=e.history;i&&i.replaceState&&URLHelper.isHTTP(n)&&i.replaceState(null,null,this.historify(n,{initialOutcome:!1}))},n.prototype.rewriteHref=function(t){t.href&&(t.href=this.historify(t,{initialOutcome:!0}))},n.prototype.getLastAction=function(){var t=this.historyActions;return t.length>0?t[t.length-1]:null},n.prototype.getLaunchCount=function(){for(var e=this.historyActions,n=0,i=0;i<e.length;i++){var r=e[i];(r===t.ACTION_LAUNCH_SUCCESS||r===t.ACTION_LAUNCH_FAILURE)&&n++}return n},n.prototype.determineInitialness=function(){for(var e={initialView:null,initialOutcome:null,initialness:[]},n=0;n<this.historyActions.length;n++){var i=this.historyActions[n],r=this.historyActions[n+1],o=this.historyActions[n+2];null!==e.initialOutcome?e.initialness.push({action:i,isInitialView:!1,isInitialOutcome:!1}):null===e.initialView&&null===e.initialOutcome&&-1!==t.VIEW_ACTIONS.indexOf(i)?(e.initialView=i,e.initialness.push({action:i,isInitialView:!0,isInitialOutcome:!1})):null===e.initialOutcome&&-1!==t.USER_ACTIONS.indexOf(i)?(e.initialOutcome=i,e.initialness.push({action:i,isInitialView:!1,isInitialOutcome:!0})):i!==t.ACTION_AUTO_LAUNCH||r!==t.ACTION_LAUNCH_SUCCESS&&o!==t.ACTION_LAUNCH_SUCCESS?i===t.ACTION_AUTO_INSTALL||i===t.ACTION_AUTO_FALLBACK?(e.initialOutcome=i,e.initialness.push({action:i,isInitialView:!1,isInitialOutcome:!0})):e.initialness.push({action:i,isInitialView:!1,isInitialOutcome:!1}):(e.initialOutcome=i,e.initialness.push({action:i,isInitialView:!1,isInitialOutcome:!0}))}return e},n}();t.HistoryManager=n}(App||(App={}));var Logging;!function(t){var e;!function(t){t[t.TYPE_NAVIGATENEXT=0]="TYPE_NAVIGATENEXT",t[t.TYPE_RELOAD=1]="TYPE_RELOAD",t[t.TYPE_BACK_FORWARD=2]="TYPE_BACK_FORWARD",t[t.TYPE_UNDEFINED=255]="TYPE_UNDEFINED"}(e||(e={}));var n=[".debug",".debug *",".footer > a",".footer > a *"].join(", "),i=function(){function t(t){this.loggingName="EventRecorder",this.ctx=t}return t.prototype.activate=function(){var t=this,n=this.ctx,i=n.win,r=n.doc,o=n.loc,a=n.logger,c=n.config;a.log(this,"url",{url:o.href});for(var s=0,u=Object.keys(c);s<u.length;s++){var l=u[s],p={};p[l]=c[l],a.log(this,"config",p)}var h=i.navigator;a.log(this,"navigator",{userAgent:h.userAgent}),a.log(this,"navigator",{cookieEnabled:h.cookieEnabled,hardwareConcurrency:h.hardwareConcurrency,language:h.language,maxTouchPoints:h.maxTouchPoints,platform:h.platform}),a.log(this,"referrer",{referrer:r.referrer});var f=i.history;f&&a.log(this,"history",{length:f.length});var g=i.performance;if(g&&g.navigation){var v=e[g.navigation.type];a.log(this,"performance.navigation",{navType:g.navigation.type,navTypeName:v,redirectCount:g.navigation.redirectCount})}i.addEventListener("mousedown",function(e){t.isDebug(e)||a.log(t,e.type,t.createUIEventRecord(e))}),i.addEventListener("mousemove",function(e){t.isDebug(e)||a.log(t,e.type,t.createUIEventRecord(e))}),i.addEventListener("touchstart",function(e){t.isDebug(e)||a.log(t,e.type,t.createUIEventRecord(e))}),i.addEventListener("drag",function(e){a.log(t,e.type,t.createUIEventRecord(e))}),i.addEventListener("scroll",function(e){a.log(t,e.type,t.createOrientationRecord())}),i.addEventListener("resize",function(e){a.log(t,e.type,t.createOrientationRecord())}),i.addEventListener("online",function(e){a.log(t,e.type,t.createNavigatorOnLineRecorder())}),i.addEventListener("offline",function(e){a.log(t,e.type,t.createNavigatorOnLineRecorder())})},t.prototype.createCSSPath=function(t){var e=[],n=t;do n instanceof HTMLElement&&n.className?e.unshift(n.nodeName+"."+n.className.replace(" ",".")):e.unshift(n.nodeName),n=n.parentElement;while(n);return e},t.prototype.createUIEventRecord=function(t){var e=t.target;return e instanceof Node?{target:this.createCSSPath(e).join(" > ")}:void 0},t.prototype.createOrientationRecord=function(){var t=this.ctx,e=t.win,n=t.doc,i=n.documentElement,r=e.innerHeight>e.innerWidth?"landscape":"portrait";return this.prevOrientation!==r?(this.prevOrientation=r,{orientation:r,vh:i.clientHeight,vw:i.clientWidth,scrollY:i.scrollHeight>i.clientHeight,scrollX:i.scrollWidth>i.clientWidth}):void 0},t.prototype.createNavigatorOnLineRecorder=function(){var t=this.ctx.win;return{online:t.navigator.onLine}},t.prototype.isDebug=function(t){var e=t.target;if(e&&e instanceof HTMLElement){if(e.matches)return e.matches(n);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(n)}return!1},t}();t.EventRecorder=i}(Logging||(Logging={}));var App;!function(t){var e=function(){function e(t){this.loggingName="InterstitialView",this.template=JST.interstitial_view,this.footerClickCount=0,this.ctx=t}return e.prototype.serializeData=function(){var t=this.ctx.config;return{className:this.state,iconUrl:t.iconUrl,appTitle:t.appName,installLink:t.appInstallUrl,launchLink:t.appLink,fallbackLink:t.fallbackUrl,footerClass:t.showBadge?"":"hide"}},e.prototype.registerEventListeners=function(e){var n=this,i=this.ctx.router;e.querySelector(".main .install .btn").addEventListener("click",function(e){e.preventDefault(),i.route(t.ACTION_USER_INSTALL)}),e.querySelector(".main .launch .btn").addEventListener("click",function(e){e.preventDefault(),i.route(t.ACTION_USER_LAUNCH)}),e.querySelector(".main .fallback .btn").addEventListener("click",function(e){e.preventDefault(),i.route(t.ACTION_USER_FALLBACK)}),e.querySelector(".footer a").addEventListener("click",function(e){e.preventDefault(),n.footerClickCount++,n.footerClickCount%10===0&&i.route(t.ACTION_DEBUG_MODE)})},e.prototype.showInstall=function(){this.show("install")},e.prototype.showLaunch=function(){this.show("launch")},e.prototype.showTernary=function(){this.show("ternary")},e.prototype.show=function(t){var e=this.ctx,n=e.logger,i=e.renderer;n.log(this,"show",{state:t}),this.state=t,i.show(this)},e}();t.InterstitialView=e}(App||(App={}));var App;!function(t){var e=function(){function e(t){this.template=JST.debug_view,this.ctx=t}return e.prototype.serializeData=function(){var t=this.ctx.logger,e=t.getAllLogs();return{className:"debug",log:e,emailLink:"mailto:?"+querystring.stringify({subject:"Interstitial Debug",body:e})}},e.prototype.registerEventListeners=function(e){var n=this.ctx.router;e.querySelector(".return").addEventListener("click",function(e){e.preventDefault(),n.route(t.ACTION_VIEW_LAUNCH)})},e.prototype.show=function(){var t=this.ctx.renderer;t.show(this)},e}();t.DebugView=e}(App||(App={}));var App;!function(t){var e=function(){function t(t){this.ctx=t}return t.prototype.show=function(t){var e=this.ctx,n=e.doc,i=e.config,r=t.serializeData();n.title=i.appName,n.body.innerHTML=t.template(r),t.registerEventListeners(n)},t}();t.Renderer=e}(App||(App={}));var Logging;!function(t){var e=function(){function t(t){this.loggingName="Pingback",this.ctx=t}return t.prototype.pingback=function(t,e){var n=this.ctx,i=n.logger,r=n.loc;return i.log(this,"ping",{url:t,data:e}),URLHelper.isHTTP(r)?new Promise(function(n,i){var r=new XMLHttpRequest;r.open("GET",t,!0),r.addEventListener("load",n),r.addEventListener("error",i),r.addEventListener("abort",i),r.addEventListener("timeout",i),r.send(e)}):Promise.resolve()},t}();t.Pingback=e}(Logging||(Logging={}));var Detectors;!function(t){var e=function(){function t(t){this.loggingName="FocusAPIDetector",this.ctx=t}return t.prototype.isSupported=function(){var t=this.ctx.doc;return!!t.hasFocus},t.prototype.setup=function(){var t=this.ctx,e=t.doc,n=t.logger,i=this.loggingName;return n.log(this,"setup.initial_values",{hasFocus:e.hasFocus()}),Promise.resolve(i)},t.prototype.detect=function(){var t=this,e=this.ctx,n=e.win,i=e.doc,r=e.logger;return r.log(this,"detect.start",{value:i.hasFocus()}),i.hasFocus()?new Promise(function(e,o){var a=function(){r.log(t,"detect.event",{value:i.hasFocus()}),n.removeEventListener("blur",a),n.removeEventListener("focus",a),e(t.loggingName)};n.addEventListener("blur",a),n.addEventListener("focus",a)}):Promise.resolve(this.loggingName)},t.prototype.teardown=function(){var t=this.ctx,e=t.doc,n=t.logger;return n.log(this,"teardown.final_values",{hasFocus:e.hasFocus()}),Promise.resolve(this.loggingName)},t}();t.FocusAPIDetector=e}(Detectors||(Detectors={}));var Detectors;!function(t){var e=function(){function t(t){this.loggingName="ManualDetector",this.ctx=t}return t.prototype.isSupported=function(){return!0},t.prototype.detect=function(){var t=this.ctx.win,e=this.loggingName;return new Promise(function(n,i){t.confirm("Click OK to simulate launch success.")?n(e):i(e)})},t}();t.ManualDetector=e}(Detectors||(Detectors={}));var Detectors;!function(t){var e=400,n=50,i=3,r=10,o=e,a=function(){function t(e){this.loggingName="RequestAnimationFrameDetector",this.ctx=e;var n=e.win;this.rAF=t.getRAF(n),this.isRunning=!1}return t.getRAF=function(t){return t.requestAnimationFrame?"requestAnimationFrame":t.webkitRequestAnimationFrame?"webkitRequestAnimationFrame":null},t.prototype.isSupported=function(){return!!this.rAF},t.prototype.setup=function(){var t=this,a=this.ctx.logger,c=this.loggingName;if(a.log(this,"setup"),e>o)return Promise.resolve(c);var s=[],u=0;return this.requestAnimationFrameLooper(function(e){if(s[u%i]=e,u>=i){var c=t.sumArray(s);if(n>c||u>r)return o=c/s.length,a.log(t,"setup.benchmark.mean",{mean:o,sample:s}),{shouldContinue:!1}}return u++,{shouldContinue:!0}})},t.prototype.detect=function(){var t=this,e=this.ctx,n=e.logger,r=e.config,a=this.loggingName,c=r.rafThreshold||i;return n.log(this,"detect.threshold",{threshold:o*c}),this.isRunning=!0,this.requestAnimationFrameLooper(function(e){return e>o*c?(n.log(t,"detect.success"),{shouldContinue:!1,returnValue:a}):t.isRunning?{shouldContinue:!0}:{shouldContinue:!1,throwValue:a}})},t.prototype.teardown=function(){var t=this.ctx.logger,e=this.loggingName;return t.log(this,"teardown"),this.isRunning=!1,Promise.resolve(e)},t.prototype.sumArray=function(t){for(var e=0,n=0;n<t.length;n++){var i=t[n];e+=i}return e},t.prototype.requestAnimationFrameLooper=function(t){var e=this.ctx.win,i=e[this.rAF];return new Promise(function(r,o){var a=0,c=function(){var e=Date.now()-a,n=t(e);n.shouldContinue?(a=Date.now(),i(c)):n.throwValue?o(n.throwValue):r(n.returnValue)};e.setTimeout(function(){a=Date.now(),i(c)},n)})},t}();t.RequestAnimationFrameDetector=a}(Detectors||(Detectors={}));var Detectors;!function(t){var e=500,n=function(){function t(t){this.loggingName="TimerDetector",this.ctx=t}return t.prototype.isSupported=function(){return!0},t.prototype.detect=function(){var t=this,n=this.ctx,i=n.logger,r=n.config,o=r.timerDuration,a=this.loggingName;return this.createSetTimeoutTest(o).then(function(n){var r=n-o;return e>r?(i.log(t,"detect.failure",{timer_duration:o,actual_duration:n,latency:r,tolerance:e}),Promise.reject(a)):(i.log(t,"detect.success",{timer_duration:o,actual_duration:n,latency:r,tolerance:e}),a)})},t.prototype.createSetTimeoutTest=function(t){var e=this.ctx.win;return new Promise(function(n,i){var r=Date.now();e.setTimeout(function(){n(Date.now()-r)},t)})},t}();t.TimerDetector=n}(Detectors||(Detectors={}));var Detectors;!function(t){var e=function(){function t(e){this.loggingName="VisibilityAPIDetector",this.ctx=e;var n=this.ctx.doc,i=t.detectVisibilityAPI(n);i&&(this.propName=i.propName,this.eventName=i.eventName)}return t.detectVisibilityAPI=function(t){return t.visibilityState?{propName:"visibilityState",eventName:"visibilitychange"}:t.webkitVisibilityState?{propName:"webkitVisibilityState",eventName:"webkitvisibilitychange"}:null},t.prototype.isSupported=function(){return!!this.propName},t.prototype.setup=function(){var t=this.ctx.logger;return t.log(this,"setup.initial_values",{propName:this.propName,value:this.getVisibilityState()}),Promise.resolve(this.getVisibilityState())},t.prototype.detect=function(){var t=this,e=this.ctx,n=e.win,i=e.doc,r=e.logger,o=this.loggingName;return new Promise(function(e,a){var c=function(){r.log(t,"detect.event",{value:t.getVisibilityState()}),i.removeEventListener(t.eventName,c),e(o)};"hidden"===t.getVisibilityState()?n.setTimeout(c,0):i.addEventListener(t.eventName,c)})},t.prototype.teardown=function(){var t=this.ctx.logger;return t.log(this,"teardown.final_values",{propName:this.propName,value:this.getVisibilityState()}),Promise.resolve(this.getVisibilityState())},t.prototype.getVisibilityState=function(){var t=this.ctx.doc;return t[this.propName]},t}();t.VisibilityAPIDetector=e}(Detectors||(Detectors={}));var Detectors;!function(t){var e=function(){function e(t){this.loggingName="DetectionManager",this.ctx=t;var e=t.logger,n=t.config;e.log(this,"requested",{detectors:n.detectors}),this.detectors=this.createDetectors(n.detectors)}return e.prototype.setup=function(){for(var t=[],e=0,n=this.detectors;e<n.length;e++){var i=n[e];i.setup&&t.push(i.setup())}return Promise.all(t)},e.prototype.detect=function(){var t=this;return new Promise(function(e,n){for(var i=0,r=t.detectors;i<r.length;i++){var o=r[i];o.detect().then(e,n)}})},e.prototype.teardown=function(){for(var t=[],e=0,n=this.detectors;e<n.length;e++){var i=n[e];i.teardown&&t.push(i.teardown())}return Promise.all(t)},e.prototype.createDetector=function(e){switch(e){case"visibility_api":return new t.VisibilityAPIDetector(this.ctx);case"focus_api":return new t.FocusAPIDetector(this.ctx);case"timer":return new t.TimerDetector(this.ctx);case"requestanimationframe":return new t.RequestAnimationFrameDetector(this.ctx);case"manual":return new t.ManualDetector(this.ctx);default:return null}},e.prototype.createDetectors=function(t){var e,n=this.ctx.logger;t?e=t.split(","):(e=["visibility_api","focus_api","timer"],n.log(this,"detectors_not_configured",{detectors:t}));for(var i=[],r=0;r<e.length;r++){var o=e[r],a=this.createDetector(o);a?a.isSupported()?i.push(a):n.log(this,"detector_not_supported",{detector:o}):n.log(this,"detector_misconfigured",{detector:o})}return i},e}();t.DetectionManager=e}(Detectors||(Detectors={}));var Launchers;!function(t){var e=function(){function t(t){this.ctx=t}return t.prototype.launch=function(t){var e=this.ctx.loc;e.assign(this.createIntentUri(t,this.getFallbackUrl()))},t.prototype.createIntentUri=function(t,e){var n=t.split("://"),i=n[0],r=n[1];return"intent://"+r+"#Intent;scheme="+i+";S.browser_fallback_url="+encodeURIComponent(e)+";end"},t.prototype.getFallbackUrl=function(){var t=this.ctx.loc,e=new App.HistoryManager(t);return e.appendAction(App.ACTION_LAUNCH_SUCCESS),e.historify(t,{initialOutcome:!1})},t}();t.AndroidIntentLauncher=e}(Launchers||(Launchers={}));var Launchers;!function(t){var e=function(){function t(t){this.ctx=t}return t.prototype.launch=function(t){var e=this.ctx.doc,n=e.createElement("iframe");n.style.display="none",n.src=t,e.body.appendChild(n)},t}();t.IframeSrcLauncher=e}(Launchers||(Launchers={}));var Launchers;!function(t){var e=function(){function t(t){this.ctx=t}return t.prototype.launch=function(t){var e=this.ctx.loc;e.assign(t)},t}();t.LocationLauncher=e}(Launchers||(Launchers={}));var Launchers;!function(t){var e=function(){function t(){}return t.prototype.launch=function(t){},t}();t.NoOpLauncher=e}(Launchers||(Launchers={}));var Launchers;!function(t){var e=function(){function e(t){this.ctx=t;var e=this.ctx.config;this.launcher=this.createLauncher(e.launcher)}return e.prototype.launchApp=function(t){this.launcher.launch(t)},e.prototype.launchAppAndDetectors=function(t){var e=this,n=this.ctx.detectorManager,i=n.setup().then(function(){var i=n.detect();return e.launcher.launch(t),i}),r=function(){return n.teardown()};return i.then(r,r),i},e.prototype.launchDetectors=function(){var t=this.ctx.detectorManager,e=t.setup().then(function(){return t.detect()}),n=function(){return t.teardown()};return e.then(n,n),e},e.prototype.createLauncher=function(e){switch(e){case"location":return new t.LocationLauncher(this.ctx);case"android_intent":return new t.AndroidIntentLauncher(this.ctx);case"iframe_src":return new t.IframeSrcLauncher(this.ctx);case"no_op":return new t.NoOpLauncher;default:return new t.NoOpLauncher}},e}();t.LaunchManager=e}(Launchers||(Launchers={}));var App;!function(t){var e=function(){function e(t){this.ctx=t}return e.prototype.launchApp=function(){var e=this.ctx,n=e.router,i=e.launchManager,r=e.config;r.isDetectionAsync?i.launchAppAndDetectors(r.appLink).then(function(){n.reload(t.ACTION_LAUNCH_SUCCESS)})["catch"](function(){n.reload(t.ACTION_DETECTION_ASYNC)}):i.launchAppAndDetectors(r.appLink).then(function(){n.route(t.ACTION_LAUNCH_SUCCESS)})["catch"](function(){n.route(t.ACTION_LAUNCH_FAILURE)})},e.prototype.autoLaunchApp=function(){this.launchApp()},e.prototype.autoInstall=function(){var t=this.ctx,e=t.redirectHelper,n=t.historyManager,i=t.config;e.redirect(n.historifyUrl(i.appInstallUrl,{initialOutcome:!0}))},e.prototype.autoFallback=function(){var t=this.ctx,e=t.redirectHelper,n=t.historyManager,i=t.config;e.redirect(n.historifyUrl(i.fallbackUrl,{initialOutcome:!0}))},e.prototype.launchSuccess=function(){var e=this.ctx.router;e.route(t.ACTION_VIEW_LAUNCH)},e.prototype.asyncDetectors=function(){var e=this.ctx,n=e.router,i=e.launchManager;i.launchDetectors().then(function(){n.route(t.ACTION_LAUNCH_SUCCESS)})["catch"](function(){n.route(t.ACTION_LAUNCH_FAILURE)})},e.prototype.showDefaultInterstitial=function(){var e=this.ctx,n=e.router,i=e.config;i.isPromoteInstall?n.route(t.ACTION_VIEW_INSTALL):i.isAutoInstall?n.route(t.ACTION_AUTO_INSTALL):n.route(t.ACTION_AUTO_FALLBACK)},e.prototype.showDebug=function(){var t=this.ctx.debugView;t.show()},e.prototype.launchFailure=function(){var t=this.ctx,e=t.historyManager,n=t.pingback,i=t.config;i.isPromoteInstall&&1===e.getLaunchCount()&&n.pingback(e.historifyUrl(i.pingbackUrl,{initialOutcome:!0})),this.showDefaultInterstitial()},e.prototype.userLaunchApp=function(){var t=this,e=this.ctx,n=e.historyManager,i=e.pingback,r=e.config,o=function(){t.launchApp()};i.pingback(n.historifyUrl(r.pingbackUrl,{initialOutcome:!0})).then(o,o)},e.prototype.userInstall=function(){var e=this.ctx,n=e.win,i=e.redirectHelper,r=e.historyManager,o=e.router,a=e.config;i.redirect(r.historifyUrl(a.appInstallUrl,{initialOutcome:!0})),n.setTimeout(function(){o.route(t.ACTION_VIEW_LAUNCH)},1e3)},e.prototype.userFallback=function(){var t=this.ctx,e=t.redirectHelper,n=t.historyManager,i=t.config;e.redirect(n.historifyUrl(i.fallbackUrl,{initialOutcome:!0}))},e.prototype.showInstallInterstitial=function(t){var e=this.ctx,n=e.pingback,i=e.historyManager,r=e.interstitialView,o=e.config;n.pingback(i.historifyUrl(o.pingbackUrl,{initialOutcome:!t})),r.showInstall()},e.prototype.showAppOpenInterstitial=function(t){var e=this.ctx,n=e.pingback,i=e.historyManager,r=e.interstitialView,o=e.config;n.pingback(i.historifyUrl(o.pingbackUrl,{initialOutcome:!t})),r.showLaunch()},e.prototype.showTernaryInterstitial=function(t){var e=this.ctx,n=e.pingback,i=e.historyManager,r=e.interstitialView,o=e.config;n.pingback(i.historifyUrl(o.pingbackUrl,{initialOutcome:!t})),r.showTernary()},e}();t.Controller=e}(App||(App={}));var App;!function(t){var e=function(){function e(t){this.loggingName="Router",this.ctx=t}return e.prototype.init=function(){var e=this.ctx,n=e.logger,i=e.historyManager,r=e.eventRecorder,o=e.config;n.log(this,"app_start",{templateName:o.templateName}),r.activate();var a=i.getLastAction();a?this.resume(a):o.isForceTernary?this.route(t.ACTION_VIEW_TERNARY):this.route(t.ACTION_AUTO_LAUNCH)},e.prototype.route=function(e,n){var i=this.ctx,r=i.historyManager,o=i.controller,a=i.logger;switch(a.log(this,"route",{action:e,is_resuming:n}),n||e===t.ACTION_DEBUG_MODE||(r.appendAction(e),r.rewritePushState(this.ctx)),e){case t.ACTION_AUTO_LAUNCH:o.autoLaunchApp();break;case t.ACTION_AUTO_INSTALL:o.autoInstall();break;case t.ACTION_AUTO_FALLBACK:o.autoFallback();break;case t.ACTION_LAUNCH_SUCCESS:o.launchSuccess();break;case t.ACTION_LAUNCH_FAILURE:o.launchFailure();break;case t.ACTION_DETECTION_ASYNC:o.asyncDetectors();break;case t.ACTION_VIEW_LAUNCH:o.showAppOpenInterstitial(n);break;case t.ACTION_VIEW_INSTALL:o.showInstallInterstitial(n);break;case t.ACTION_VIEW_TERNARY:o.showTernaryInterstitial(n);break;case t.ACTION_DEBUG_MODE:o.showDebug();break;case t.ACTION_USER_LAUNCH:o.userLaunchApp();break;case t.ACTION_USER_INSTALL:o.userInstall();break;case t.ACTION_USER_FALLBACK:o.userFallback();break;default:this.route(t.ACTION_VIEW_LAUNCH)}},e.prototype.reload=function(t){var e=this.ctx,n=e.loc,i=e.historyManager,r=e.logger,o=e.redirectHelper;r.log(this,"reload",{action:t}),i.appendAction(t),o.redirect(i.historify(n,{initialOutcome:!0}))},e.prototype.resume=function(e){var n=this.ctx.logger;n.log(this,"resume",{action:e}),-1===t.RESUMABLE_ACTIONS.indexOf(e)?this.route(t.ACTION_VIEW_LAUNCH):this.route(e,!0)},e}();t.Router=e}(App||(App={}));var URLHelper;!function(t){var e=function(){function t(t){this.loggingName="RedirectHelper",this.ctx=t}return t.prototype.redirect=function(t){var e=this.ctx,n=e.logger,i=e.loc;n.log(this,"redirect",{redirect:t}),i.assign(t)},t}();t.RedirectHelper=e}(URLHelper||(URLHelper={}));var App;!function(t){function e(e,n,i,r){void 0===n&&(n=window);var o={config:e,win:n,doc:i||n.document,loc:r||n.location,logger:new Logging.Logger};return o.router=new t.Router(o),o.controller=new t.Controller(o),o.interstitialView=new t.InterstitialView(o),o.debugView=new t.DebugView(o),o.launchManager=new Launchers.LaunchManager(o),o.detectorManager=new Detectors.DetectionManager(o),o.historyManager=new t.HistoryManager(o.loc),o.renderer=new t.Renderer(o),o.eventRecorder=new Logging.EventRecorder(o),o.pingback=new Logging.Pingback(o),o.redirectHelper=new URLHelper.RedirectHelper(o),o}t.createContext=e}(App||(App={})),document.addEventListener("DOMContentLoaded",function(){window.App=App.createContext({templateName:"manual_test",appLink:"#",fallbackUrl:"#",appInstallUrl:"#",iconUrl:"https://bitly.com/favicon.ico",appName:"manual_test",isPromoteInstall:App.tryParse("true",!0),isAutoInstall:App.tryParse("false",!1),pingbackUrl:"",isForceTernary:App.tryParse("false",!1),rafThreshold:App.tryParse("1.5",3),launcher:"no_op",detectors:"visibility_api,focus_api,timer,requestanimationframe,manual",isDetectionAsync:App.tryParse("false",!1),timerDuration:App.tryParse("1500",1500),showBadge:App.tryParse("true",!0)}),window.App.router.init()})}(window,document,location,setTimeout,JSON);</script><body>
